(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-index"],{2810:function(t,n,e){"use strict";e("7a82");var a=e("ee27").default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,e("14d9");var i=e("664c"),r=e("b85b"),o=a(e("c6de")),u={data:function(){return{Login_png:"",loginfrom:{username:"",password:""},agreement:[{value:"user-agreement",checked:!1,isChecked:!1}]}},methods:{checkAlarm:function(t){this.agreement[0].isChecked=!this.agreement[0].isChecked,console.log(this.agreement)},encodepassword:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return n.push(t),(0,r.encode)("0x12",n)},toHome:function(){var t=this,n={};n.username=this.loginfrom.username,n.password=this.encodepassword(this.loginfrom.password),this.agreement[0].isChecked?(0,i.login)(n).then((function(n){400==n.data.status&&uni.showToast({icon:"error",title:n.data.msg}),console.log(n),200==n.data.code&&(uni.setStorage({key:"user_token",data:n.data.token,success:function(t){uni.switchTab({url:"../home/home"})}}),o.default.commit("setLoginUser",n.data["result"]),t.getUser(),t.queryRole(n.data["result"].roles.roleId))})).catch((function(t){console.error(t)})):(console.log(this.agreement),uni.showToast({icon:"error",title:"请阅读并同意用户协议"}))},getUser:function(){(0,i.getLoginUserInfo)().then((function(t){console.log(t.data.user),o.default.commit("setLoginUserInfo",t.data.user)}))},queryRole:function(t){(0,i.getRoleList)({pageNum:1,pageSize:20,roleId:t}).then((function(t){console.log(t.data.data.list[0].menuIds.split(",")),o.default.commit("setMenu",t.data.data.list[0].menuIds.split(","))}))}},onLoad:function(){},onShow:function(){this.loginfrom={username:"",password:""},this.Login_png=uni.getStorageSync("Material")+"/Designer_11.png",console.log(this.Login_png)}};n.default=u},"4aa5":function(t,n,e){"use strict";e.r(n);var a=e("2810"),i=e.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){e.d(n,t,(function(){return a[t]}))}(r);n["default"]=i.a},"580f":function(t,n,e){var a=e("24fb");n=a(!1),n.push([t.i,'@font-face{font-family:alihei;src:url(https://yjl.linkom.com.cn/loadfile/ht.ttf) format("truetype")}@font-face{font-family:alyuan;src:url(https://yjl.linkom.com.cn/loadfile/ht.ttf) format("truetype")}.container[data-v-2f5a0c7d]{background:#f0f0f3;height:100vh;padding:0!important;background-size:100% 100%;background-attachment:fixed;overflow:hidden}.LoginFrom[data-v-2f5a0c7d]{margin:0 auto;overflow:hidden;display:flex;flex-direction:column}.index_png[data-v-2f5a0c7d]{margin:%?261?% auto %?41?%}.index_png img[data-v-2f5a0c7d]{width:%?260?%;height:%?260?%}.index_title[data-v-2f5a0c7d]{margin:0 auto %?14?%;font-size:%?40?%;font-family:alihei}.from_item[data-v-2f5a0c7d]{display:flex;width:%?595?%;margin:%?8?% auto}[data-v-2f5a0c7d] .uni-input-placeholder{font-size:%?32?%!important}[data-v-2f5a0c7d] .uni-easyinput__content{width:%?595?%;height:%?96?%;border-radius:%?32?%;font-size:%?32?%!important;background:#d0d3d4!important;color:#9e9e9e!important;font-family:alyuan}[data-v-2f5a0c7d] uni-checkbox .uni-checkbox-input{height:%?33?%;width:%?33?%;border-radius:%?33?%}.agreement[data-v-2f5a0c7d]{margin-top:%?47?%;font-family:alyuan}.loginBtn[data-v-2f5a0c7d]{width:%?595?%;height:%?96?%;margin:%?60?% auto 0;text-align:center;line-height:%?96?%;font-size:%?40?%;border-radius:%?48?%;background:#005f7a;color:#f5f4f6;font-family:alihei}\r\n\r\n\r\n\r\n/* 微信小程序兼容样式 */\r\n\r\n\r\n\r\n/* button {\r\n\tbackground: #007AFF !important;\r\n} */\r\n\r\n\r\n\r\n/* .uni-input-placeholder {\r\n\tfont-size: 32rpx !important;\r\n}\r\n\r\n.uni-easyinput__content {\r\n\twidth: 595rpx;\r\n\theight: 96rpx;\r\n\tborder-radius: 32rpx;\r\n\tfont-size: 32rpx !important;\r\n\tbackground: #D0D3D4 !important;\r\n\tcolor: #9E9E9E !important;\r\n\tfont-family: alyuan;\r\n}\r\n\r\nuni-checkbox .uni-checkbox-input {\r\n\theight: 33rpx;\r\n\twidth: 33rpx;\r\n\tborder-radius: 33rpx;\r\n} */.uni-easyinput[data-v-2f5a0c7d]{width:%?595?%!important;height:%?96?%!important;border-radius:%?32?%!important;font-size:%?32?%!important;background:#d0d3d4!important;color:#9e9e9e!important;font-family:alyuan}.uni-easyinput__content[data-v-2f5a0c7d]{border-radius:%?32?%!important}',""]),t.exports=n},"5b815":function(t,n,e){"use strict";e.r(n);var a=e("85b6"),i=e("4aa5");for(var r in i)["default"].indexOf(r)<0&&function(t){e.d(n,t,(function(){return i[t]}))}(r);e("8761");var o=e("f0c5"),u=Object(o["a"])(i["default"],a["b"],a["c"],!1,null,"2f5a0c7d",null,!1,a["a"],void 0);n["default"]=u.exports},"85b6":function(t,n,e){"use strict";e.d(n,"b",(function(){return i})),e.d(n,"c",(function(){return r})),e.d(n,"a",(function(){return a}));var a={uniEasyinput:e("7b0c").default},i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-uni-view",{staticClass:"container"},[e("v-uni-view",{staticClass:"content"},[e("v-uni-view",{staticClass:"LoginFrom"},[e("v-uni-view",{staticClass:"index_png"},[e("img",{attrs:{src:t.Login_png,alt:""}})]),e("v-uni-view",{staticClass:"index_title"},[e("v-uni-text",[t._v("应急联 账号登录")])],1),e("v-uni-view",{staticClass:"from_item"},[e("v-uni-view",{staticClass:"from_value"},[e("uni-easyinput",{staticClass:"from_input",attrs:{placeholder:"请输入账号"},model:{value:t.loginfrom.username,callback:function(n){t.$set(t.loginfrom,"username",n)},expression:"loginfrom.username"}})],1)],1),e("v-uni-view",{staticClass:"from_item"},[e("v-uni-view",{staticClass:"from_value"},[e("uni-easyinput",{staticClass:"from_input",attrs:{type:"password",placeholder:"请输入密码"},model:{value:t.loginfrom.password,callback:function(n){t.$set(t.loginfrom,"password",n)},expression:"loginfrom.password"}})],1)],1),e("v-uni-view",{staticClass:"from_item agreement"},[e("v-uni-checkbox-group",t._l(t.agreement,(function(n,a){return e("v-uni-view",{key:n.value,on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.checkAlarm(a)}}},[e("v-uni-checkbox",{attrs:{name:n.value,checked:n.checked},on:{click:function(n){arguments[0]=n=t.$handleEvent(n)}}}),t._v("已阅读并同意 用户协议")],1)})),1)],1),e("v-uni-view",{staticClass:"loginBtn",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.toHome.apply(void 0,arguments)}}},[t._v("登录")])],1)],1)],1)},r=[]},8761:function(t,n,e){"use strict";var a=e("9a4d"),i=e.n(a);i.a},"9a4d":function(t,n,e){var a=e("580f");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=e("4f06").default;i("dc71fe94",a,!0,{sourceMap:!1,shadowMode:!1})},b85b:function(t,n,e){"use strict";e("7a82");var a=e("ee27").default;Object.defineProperty(n,"__esModule",{value:!0}),n.arrToTree=function t(n,e){var a=[];return n.forEach((function(i){if(i.parentMenuId===e){var r=t(n,i.menuId);r.length&&(i.children=r),a.push(i)}})),a},n.arrToTree2=function(t){var n={},e=[];return t.forEach((function(t){n[t.mid]=(0,i.default)((0,i.default)({},t),{},{children:[]})})),t.forEach((function(t){var a=n[t.parentMid];a?a.children.push(n[t.mid]):e.push(n[t.mid])})),e},n.checkNumberInArray=function(t,n){return t.includes(n)},n.encode=function(t,n){for(var e=parseInt(t),a=[],i=0;i<n.length;++i){var r=n[i];a.push(r.length^e);for(var o=0;o<r.length;++o)a.push(r[o].charCodeAt(0)^e)}a.push(e);var u="CV16"+a.join("%");return u};var i=a(e("f3f3"));e("e25e"),e("14d9"),e("d3b7"),e("159b"),e("caad6"),e("2532")}}]);