(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-index"],{"035f":function(t,e,n){"use strict";n.r(e);var a=n("78cc"),i=n("d6b1a");for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);n("7145");var r=n("828b"),c=Object(r["a"])(i["default"],a["b"],a["c"],!1,null,"2c473b3d",null,!1,a["a"],void 0);e["default"]=c.exports},1837:function(t,e,n){var a=n("c86c");e=a(!1),e.push([t.i,"/* @font-face {\r\n\tfont-family: 'alihei';\r\n\tsrc: url('https://yjl.linkom.com.cn/loadfile/ht.ttf') format('truetype');\r\n}\r\n\r\n\r\n\r\n@font-face {\r\n\tfont-family: 'alyuan';\r\n\tsrc: url('https://yjl.linkom.com.cn/loadfile/fy.ttf') format('truetype');\r\n} */\r\n/* h5跨域 */@font-face{font-family:alihei;src:url(/yjlcdn/loadfile/ht.ttf) format(\"truetype\")}@font-face{font-family:alyuan;src:url(/yjlcdn/loadfile/fy.ttf) format(\"truetype\")}.container[data-v-2c473b3d]{background:#f0f0f3;height:100vh;padding:0!important;background-size:100% 100%;background-attachment:fixed;overflow:hidden;font-family:alyuan}.LoginFrom[data-v-2c473b3d]{margin:0 auto;overflow:hidden;display:flex;flex-direction:column}.index_png[data-v-2c473b3d]{margin:%?261?% auto %?41?%}.index_png img[data-v-2c473b3d]{width:%?260?%;height:%?260?%}.index_title[data-v-2c473b3d]{margin:0 auto %?14?%;font-size:%?40?%;font-family:alihei}.from_item[data-v-2c473b3d]{display:flex;width:%?595?%;margin:%?8?% auto}[data-v-2c473b3d] .uni-input-placeholder{font-size:%?32?%!important}[data-v-2c473b3d] .uni-easyinput__content{width:%?595?%;height:%?96?%;border-radius:%?32?%;font-size:%?32?%!important;background:#d0d3d4!important;color:#9e9e9e!important;font-family:alyuan}[data-v-2c473b3d] uni-checkbox .uni-checkbox-input{height:%?33?%;width:%?33?%;border-radius:%?33?%}.agreement[data-v-2c473b3d]{margin-top:%?47?%;font-family:alyuan}.loginBtn[data-v-2c473b3d]{width:%?595?%;height:%?96?%;margin:%?60?% auto 0;text-align:center;line-height:%?96?%;font-size:%?40?%;border-radius:%?48?%;background:#005f7a;color:#f5f4f6;font-family:alihei}\r\n/* 微信小程序兼容样式 */.uni-easyinput[data-v-2c473b3d]{width:%?595?%!important;height:%?96?%!important;border-radius:%?32?%!important;font-size:%?32?%!important;background:#d0d3d4!important;color:#9e9e9e!important;font-family:alyuan}.uni-easyinput__content[data-v-2c473b3d]{border-radius:%?32?%!important}uni-checkbox .wx-checkbox-input[data-v-2c473b3d]{width:%?40?%;height:%?40?%;border-radius:50%;background:#d0d3d4}uni-checkbox .wx-checkbox-input.wx-checkbox-input-checked[data-v-2c473b3d]::before{width:%?40?%;height:%?40?%;line-height:%?40?%;border-radius:50%;text-align:center;font-size:%?32?%;color:#fff;background:transparent;transform:translate(-50%,-50%) scale(1);-webkit-transform:translate(-50%,-50%) scale(1)}",""]),t.exports=e},5400:function(t,e,n){"use strict";n("6a54");var a=n("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("aa9c");var i=n("03c2"),o=n("7e7d"),r=a(n("85b1")),c={data:function(){return{Login_png:"",loginfrom:{username:"",password:""},agreement:[{value:"user-agreement",checked:!1}],isChecked:!1,roleId:"",checkNumberInArray:o.checkNumberInArray}},methods:{checkAlarm:function(t){this.isChecked=!this.isChecked,console.log(this.isChecked)},encodepassword:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.push(t),(0,o.encode)("0x12",e)},toHome:function(){var t=this,e={};e.username=this.loginfrom.username,e.password=this.encodepassword(this.loginfrom.password),this.isChecked?(0,i.login)(e).then((function(e){if(400==e.data.status&&uni.showToast({icon:"error",title:e.data.msg}),console.log(e),200==e.data.code){t.roleId=e.data["result"].roles.roleId;var n=t;uni.setStorage({key:"user_token",data:e.data.token,success:function(t){n.getUser()}}),r.default.commit("setLoginUser",e.data["result"])}})).catch((function(t){console.error(t)})):(console.log(this.agreement),uni.showToast({icon:"error",title:"请阅读并同意用户协议"}))},getUser:function(){var t=this;(0,i.getLoginUserInfo)().then((function(e){console.log(e.data.user),r.default.commit("setLoginUserInfo",e.data.user),t.queryRole(t.roleId)}))},queryRole:function(t){(0,i.getRoleList)({pageNum:1,pageSize:20,roleId:t}).then((function(t){var e=t.data.data.list[0].menuIds.split(",");r.default.commit("setMenu",e),uni.switchTab({url:"../home/home"})}))}},onLoad:function(){},onShow:function(){this.loginfrom={username:"",password:""},this.Login_png=uni.getStorageSync("Material")+"/Designer_11.png",console.log(this.Login_png),uni.getStorageSync("user_token")?(console.log("没有过期"),this.getUser()):console.log("过期了")}};e.default=c},7145:function(t,e,n){"use strict";var a=n("b243"),i=n.n(a);i.a},"78cc":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return a}));var a={uniEasyinput:n("9ccf").default},i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"container"},[n("v-uni-view",{staticClass:"content"},[n("v-uni-view",{staticClass:"LoginFrom"},[n("v-uni-view",{staticClass:"index_png"},[n("img",{attrs:{src:t.Login_png,alt:""}})]),n("v-uni-view",{staticClass:"index_title"},[n("v-uni-text",[t._v("应急联 账号登录")])],1),n("v-uni-view",{staticClass:"from_item"},[n("v-uni-view",{staticClass:"from_value"},[n("uni-easyinput",{staticClass:"from_input",attrs:{placeholder:"请输入账号"},model:{value:t.loginfrom.username,callback:function(e){t.$set(t.loginfrom,"username",e)},expression:"loginfrom.username"}})],1)],1),n("v-uni-view",{staticClass:"from_item"},[n("v-uni-view",{staticClass:"from_value"},[n("uni-easyinput",{staticClass:"from_input",attrs:{type:"password",placeholder:"请输入密码"},model:{value:t.loginfrom.password,callback:function(e){t.$set(t.loginfrom,"password",e)},expression:"loginfrom.password"}})],1)],1),n("v-uni-view",{staticClass:"from_item agreement"},[n("v-uni-checkbox-group",t._l(t.agreement,(function(e,a){return n("v-uni-view",{key:e.value},[n("v-uni-checkbox",{attrs:{name:e.value,checked:e.checked},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.checkAlarm(a)}}}),t._v("已阅读并同意 用户协议")],1)})),1)],1),n("v-uni-view",{staticClass:"loginBtn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toHome.apply(void 0,arguments)}}},[t._v("登录")])],1)],1)],1)},o=[]},"7e7d":function(t,e,n){"use strict";n("6a54");var a=n("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.arrToTree=function t(e,n){var a=[];return e.forEach((function(i){if(i.parentMenuId===n){var o=t(e,i.menuId);o.length&&(i.children=o),a.push(i)}})),a},e.arrToTree2=function(t){var e={},n=[];return t.forEach((function(t){e[t.mid]=(0,i.default)((0,i.default)({},t),{},{children:[]})})),t.forEach((function(t){var a=e[t.parentMid];a?a.children.push(e[t.mid]):n.push(e[t.mid])})),n},e.checkNumberInArray=function(t,e){return t.includes(e)},e.encode=function(t,e){for(var n=parseInt(t),a=[],i=0;i<e.length;++i){var o=e[i];a.push(o.length^n);for(var r=0;r<o.length;++r)a.push(o[r].charCodeAt(0)^n)}a.push(n);var c="CV16"+a.join("%");return c};var i=a(n("9b1b"));n("e966"),n("aa9c"),n("bf0f"),n("2797"),n("4626"),n("5ac7")},b243:function(t,e,n){var a=n("1837");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("967d").default;i("2c91a8f4",a,!0,{sourceMap:!1,shadowMode:!1})},d6b1a:function(t,e,n){"use strict";n.r(e);var a=n("5400"),i=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);e["default"]=i.a}}]);